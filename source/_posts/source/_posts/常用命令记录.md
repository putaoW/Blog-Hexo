---
title: Ubuntu 常用命令记录
tags: 
  - Linux
  - Ubuntu
cover: 'https://api.anosu.top/img/?sort=furry&_=1'
abbrlink: 63081
date: 2023-01-20 00:00:00
---

> 本篇主要记录 Ubuntu 安装软件的过程

## 开启root账号ssh

```bash
# 写入证书
cat ~/.ssh/id_rsa.pub | tee /root/.ssh/authorized_keys && chmod 600 /root/.ssh/authorized_keys
# 启用root登录
sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config
# 禁用密码登录
sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config
# 启用证书登录
sed -i 's/#PubkeyAuthentication yes/PubkeyAuthentication yes/' /etc/ssh/sshd_config
# 重启ssh
systemctl restart ssh                                                        
```

> `ssh-keygen -R example.com` 清除ssh指纹

## 更换源及升级包

### 升级包

```bash
apt update && apt upgrade -y && apt autoremove -y
```
或
```bash
apt update \
&& apt install -y --allow-change-held-packages $(apt list --upgradable 2>/dev/null | grep -Ev "(列表|Listing)" | awk -F/ '{print $1}' | xargs) \
&& apt autoremove -y
```

## 更改语言

```bash
apt install fonts-wqy-zenhei && fc-cache
sed -i 's/^# zh_CN.UTF-8 UTF-8/zh_CN.UTF-8 UTF-8/' /etc/locale.gen
locale-gen
echo 'LANG=zh_CN.UTF-8' > /etc/default/locale
```

## 安装服务器管理面板

### 宝塔开心版

```bash
bash -c "$(curl -sSL http://io.bt.sb/install/install_panel.sh)"
```

### 1Panel 开心版

[来源](https://1panel.jp)

```bash
bash -c "$(curl -sSL https://resource.1panel.jp/1panel/package/v2/quick_start.sh)"
```

## 网络配置工具

```bash
apt install network-manager
```
即可使用 `nmtui`

## 安装Docker及常用镜像

来源：[LinuxMirrors](https://linuxmirrors.cn)

```bash
bash <(curl -sSL https://linuxmirrors.cn/docker.sh)
```
